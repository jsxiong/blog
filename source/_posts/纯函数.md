---
title: 纯函数
date: 2024-03-25 10:55:14
tags: js
---

## 纯函数是什么？

纯函数（Pure Function）是指在函数执行过程中，除了返回一个新的值之外，不对外部作用域产生副作用，也不依赖外部作用域的状态。具体来说，一个函数如果满足以下两个条件，则可以称之为纯函数：

1. **相同的输入始终产生相同的输出**：对于相同的输入参数，纯函数总是返回相同的输出值，不受外部状态的影响。

2. **没有副作用**：纯函数在执行过程中不会修改外部状态，包括但不限于修改全局变量、修改传入的参数、执行I/O操作等。

纯函数的特点使得其具有以下优点：

- **可缓存性**：由于相同的输入始终产生相同的输出，可以轻松地缓存函数的结果，以提高性能。
- **可测试性**：因为纯函数不依赖于外部状态，所以可以更容易地编写测试用例。
- **可组合性**：纯函数可以像数学函数一样组合使用，因为它们不会产生意外的副作用。

以下是一个简单的例子：

```javascript
// 纯函数示例
function add(a, b) {
    return a + b;
}

console.log(add(2, 3)); // 输出 5
console.log(add(2, 3)); // 再次输出 5，相同的输入始终产生相同的输出

```

相比之下，下面是一个非纯函数的例子：

```javascript
// 非纯函数示例
let result = 0;

function add(a, b) {
    result = a + b; // 修改外部状态
    return result;
}

console.log(add(2, 3)); // 输出 5
console.log(result); // 输出 5，函数修改了外部状态

```

在这个非纯函数的例子中，函数add不仅修改了外部状态result，而且其输出依赖于外部状态的值，因此它不是一个纯函数。